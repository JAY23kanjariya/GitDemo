Git Commands Cheat Sheet
File: /s:/gitCommands

# Setup
git config --global user.name "Your Name"
git config --global user.email "you@example.com"
git config --global core.editor "code --wait"

# Initialize / Clone
git init                       # create new repo
git clone https://host/repo.git # clone remote repo
git clone --depth 1 <url>      # shallow clone

# Basic workflow
git status                     # show changes
git add <file>                 # stage file
git add .                      # stage all
git commit -m "message"        # commit staged changes
git commit --amend             # amend last commit

# Viewing history and changes
git log                        # commit history
git log --oneline --graph --decorate
git show <commit>              # show commit details
git diff                       # unstaged changes
git diff --staged              # staged changes vs HEAD

# Branching
git branch                     # list branches
git branch <name>              # create branch
git checkout <name>            # switch branch
git checkout -b <name>         # create and switch
git switch <name>              # switch (newer)
git switch -c <name>           # create & switch (newer)

# Merging and rebasing
git merge <branch>             # merge branch into current
git rebase <branch>            # rebase current onto branch
git rebase -i <commit>         # interactive rebase for editing history
git merge --no-ff <branch>     # create merge commit

# Remote operations
git remote -v                  # list remotes
git remote add origin <url>    # add remote
git fetch origin               # fetch remote refs
git pull origin main           # fetch + merge
git pull --rebase origin main  # fetch + rebase
git push origin main           # push branch
git push -u origin <branch>    # push & set upstream
git push --force-with-lease    # safer force push

# Tags
git tag                        # list tags
git tag -a v1.0 -m "v1.0"      # annotated tag
git push origin v1.0           # push tag
git push origin --tags         # push all tags

# Stashing
git stash                      # stash changes
git stash list                 # list stashes
git stash apply                # apply latest stash (keep)
git stash pop                  # apply + drop latest
git stash branch <name>        # create branch from stash

# Undoing changes
git restore <file>             # discard unstaged changes (git >=2.23)
git restore --staged <file>    # unstage file
git checkout -- <file>         # discard changes (older)
git reset --soft HEAD~1        # move HEAD back, keep changes staged
git reset --mixed HEAD~1       # move HEAD back, keep changes unstaged
git reset --hard HEAD~1        # move HEAD back, discard changes

# Reverting commits
git revert <commit>            # create commit that undoes specified commit

# Cherry-pick
git cherry-pick <commit>       # apply specific commit onto current branch

# Bisect (binary search for bad commit)
git bisect start
git bisect bad <bad-commit-ish>
git bisect good <good-commit-ish>
# run tests, then git bisect good/bad until found
git bisect reset

# Submodules
git submodule add <url> path
git submodule update --init --recursive
git submodule foreach 'git pull'

# Large file support (LFS)
git lfs install
git lfs track "*.bin"
git add .gitattributes

# Credentials and caching
git credential-manager-core configure
git config --global credential.helper cache

# Useful aliases
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
git config --global alias.st status
git config --global alias.lg "log --oneline --graph --all --decorate"

# Inspection helpers
git ls-files                    # tracked files
git grep "TODO"                 # search in repo
git blame <file>                # who changed each line

# Safety tips
# Use --force-with-lease instead of --force when pushing rewritten history.
# Create backups / tags before destructive operations like reset --hard or rebase.

# Examples
# Create repo, add file, commit, push to new remote:
git init
echo "hello" > README.md
git add README.md
git commit -m "add README"
git remote add origin git@github.com:user/repo.git
git branch -M main
git push -u origin main

# Create feature branch, work, rebase onto main, push:
git checkout -b feature-x
# ...edit files...
git add .
git commit -m "feature work"
git fetch origin
git rebase origin/main
git push -u origin feature-x

# Restore a deleted file from last commit:
git checkout HEAD -- path/to/file

# Recover a lost branch from reflog:
git reflog
git checkout -b recovered <reflog-hash>

# End of file